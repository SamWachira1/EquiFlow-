import{r as i,a as q}from"./react-c619c8b3.js";import{R as J}from"./react-dom-5ca1b2a9.js";import{m as Q,D as B,a as W,R as Z,u as $,b as D,c as z,N as H,d as ee,e as te}from"./react-router-fb6de028.js";import{c as ne,b as ae,E as ie,s as N,i as M,d as F,e as V}from"./@remix-run-3349734c.js";/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P(){return P=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},P.apply(this,arguments)}function K(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,s;for(s=0;s<r.length;s++)a=r[s],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function re(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function se(t,n){return t.button===0&&(!n||n==="_self")&&!re(t)}const oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],le=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],ue="6";try{window.__reactRouterVersion=ue}catch{}function Ee(t,n){return ne({basename:n==null?void 0:n.basename,future:P({},n==null?void 0:n.future,{v7_prependBasename:!0}),history:ae({window:n==null?void 0:n.window}),hydrationData:(n==null?void 0:n.hydrationData)||ce(),routes:t,mapRouteProperties:Q,unstable_dataStrategy:n==null?void 0:n.unstable_dataStrategy,window:n==null?void 0:n.window}).initialize()}function ce(){var t;let n=(t=window)==null?void 0:t.__staticRouterHydrationData;return n&&n.errors&&(n=P({},n,{errors:fe(n.errors)})),n}function fe(t){if(!t)return null;let n=Object.entries(t),e={};for(let[r,a]of n)if(a&&a.__type==="RouteErrorResponse")e[r]=new ie(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let o=new s(a.message);o.stack="",e[r]=o}catch{}}if(e[r]==null){let s=new Error(a.message);s.stack="",e[r]=s}}else e[r]=a;return e}const G=i.createContext({isTransitioning:!1}),de=i.createContext(new Map),he="startTransition",I=q[he],ve="flushSync",j=J[ve];function me(t){I?I(t):t()}function U(t){j?j(t):t()}class pe{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",n(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",e(r))}})}}function Pe(t){let{fallbackElement:n,router:e,future:r}=t,[a,s]=i.useState(e.state),[o,w]=i.useState(),[v,l]=i.useState({isTransitioning:!1}),[u,y]=i.useState(),[m,L]=i.useState(),[p,b]=i.useState(),T=i.useRef(new Map),{v7_startTransition:_}=r||{},d=i.useCallback(f=>{_?me(f):f()},[_]),h=i.useCallback((f,S)=>{let{deletedFetchers:g,unstable_flushSync:E,unstable_viewTransitionOpts:R}=S;g.forEach(C=>T.current.delete(C)),f.fetchers.forEach((C,Y)=>{C.data!==void 0&&T.current.set(Y,C.data)});let X=e.window==null||e.window.document==null||typeof e.window.document.startViewTransition!="function";if(!R||X){E?U(()=>s(f)):d(()=>s(f));return}if(E){U(()=>{m&&(u&&u.resolve(),m.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let C=e.window.document.startViewTransition(()=>{U(()=>s(f))});C.finished.finally(()=>{U(()=>{y(void 0),L(void 0),w(void 0),l({isTransitioning:!1})})}),U(()=>L(C));return}m?(u&&u.resolve(),m.skipTransition(),b({state:f,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(w(f),l({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[e.window,m,u,T,d]);i.useLayoutEffect(()=>e.subscribe(h),[e,h]),i.useEffect(()=>{v.isTransitioning&&!v.flushSync&&y(new pe)},[v]),i.useEffect(()=>{if(u&&o&&e.window){let f=o,S=u.promise,g=e.window.document.startViewTransition(async()=>{d(()=>s(f)),await S});g.finished.finally(()=>{y(void 0),L(void 0),w(void 0),l({isTransitioning:!1})}),L(g)}},[d,o,u,e.window]),i.useEffect(()=>{u&&o&&a.location.key===o.location.key&&u.resolve()},[u,m,a.location,o]),i.useEffect(()=>{!v.isTransitioning&&p&&(w(p.state),l({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),b(void 0))},[v.isTransitioning,p]),i.useEffect(()=>{},[]);let c=i.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:f=>e.navigate(f),push:(f,S,g)=>e.navigate(f,{state:S,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(f,S,g)=>e.navigate(f,{replace:!0,state:S,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[e]),x=e.basename||"/",k=i.useMemo(()=>({router:e,navigator:c,static:!1,basename:x}),[e,c,x]);return i.createElement(i.Fragment,null,i.createElement(B.Provider,{value:k},i.createElement(W.Provider,{value:a},i.createElement(de.Provider,{value:T.current},i.createElement(G.Provider,{value:v},i.createElement(Z,{basename:x,location:a.location,navigationType:a.historyAction,navigator:c,future:{v7_relativeSplatPath:e.future.v7_relativeSplatPath}},a.initialized||e.future.v7_partialHydration?i.createElement(we,{routes:e.routes,future:e.future,state:a}):n))))),null)}function we(t){let{routes:n,future:e,state:r}=t;return $(n,void 0,r,e)}const ge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=i.forwardRef(function(n,e){let{onClick:r,relative:a,reloadDocument:s,replace:o,state:w,target:v,to:l,preventScrollReset:u,unstable_viewTransition:y}=n,m=K(n,oe),{basename:L}=i.useContext(H),p,b=!1;if(typeof l=="string"&&ye.test(l)&&(p=l,ge))try{let h=new URL(window.location.href),c=l.startsWith("//")?new URL(h.protocol+l):new URL(l),x=N(c.pathname,L);c.origin===h.origin&&x!=null?l=x+c.search+c.hash:b=!0}catch{}let T=ee(l,{relative:a}),_=Re(l,{replace:o,state:w,target:v,preventScrollReset:u,relative:a,unstable_viewTransition:y});function d(h){r&&r(h),h.defaultPrevented||_(h)}return i.createElement("a",P({},m,{href:p||T,onClick:b||s?r:d,ref:e,target:v}))}),ke=i.forwardRef(function(n,e){let{"aria-current":r="page",caseSensitive:a=!1,className:s="",end:o=!1,style:w,to:v,unstable_viewTransition:l,children:u}=n,y=K(n,le),m=D(v,{relative:y.relative}),L=z(),p=i.useContext(W),{navigator:b,basename:T}=i.useContext(H),_=p!=null&&Le(m)&&l===!0,d=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,h=L.pathname,c=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(h=h.toLowerCase(),c=c?c.toLowerCase():null,d=d.toLowerCase()),c&&T&&(c=N(c,T)||c);const x=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let k=h===d||!o&&h.startsWith(d)&&h.charAt(x)==="/",f=c!=null&&(c===d||!o&&c.startsWith(d)&&c.charAt(d.length)==="/"),S={isActive:k,isPending:f,isTransitioning:_},g=k?r:void 0,E;typeof s=="function"?E=s(S):E=[s,k?"active":null,f?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R=typeof w=="function"?w(S):w;return i.createElement(Se,P({},y,{"aria-current":g,className:E,ref:e,style:R,to:v,unstable_viewTransition:l}),typeof u=="function"?u(S):u)});var O;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O||(O={}));var A;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A||(A={}));function Te(t){let n=i.useContext(B);return n||M(!1),n}function Re(t,n){let{target:e,replace:r,state:a,preventScrollReset:s,relative:o,unstable_viewTransition:w}=n===void 0?{}:n,v=te(),l=z(),u=D(t,{relative:o});return i.useCallback(y=>{if(se(y,e)){y.preventDefault();let m=r!==void 0?r:V(l)===V(u);v(t,{replace:m,state:a,preventScrollReset:s,relative:o,unstable_viewTransition:w})}},[l,v,u,r,a,e,t,s,o,w])}function Le(t,n){n===void 0&&(n={});let e=i.useContext(G);e==null&&M(!1);let{basename:r}=Te(O.useViewTransitionState),a=D(t,{relative:n.relative});if(!e.isTransitioning)return!1;let s=N(e.currentLocation.pathname,r)||e.currentLocation.pathname,o=N(e.nextLocation.pathname,r)||e.nextLocation.pathname;return F(a.pathname,o)!=null||F(a.pathname,s)!=null}export{ke as N,Pe as R,Ee as c};
